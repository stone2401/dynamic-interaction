### 核心需求

1. **持久化用户语言偏好**
   - 在前端（`src/public/ts/services/i18n.ts` 或相关模块）中记录用户切换的语言（中/英）。
   - 使用 `localStorage` 保存 `preferredLanguage`，页面刷新后应自动加载。
   - 若浏览器未存储偏好，则回退到服务器下发的默认语言配置。

2. **运行时配置支持**
   - 在后端 `src/config.ts` 中新增 `DEFAULT_LANGUAGE` 配置项，可通过环境变量 `DEFAULT_LANGUAGE` 覆盖，默认值为 `zh`。
   - 在已有 `/config` API 或服务器启动参数中暴露该配置，供前端在首次加载时获取。

3. **统一语言初始化流程**
   - 前端应用启动时：
     1. 请求后端 `/config`（或等效接口）获取 `DEFAULT_LANGUAGE`。
     2. 若 `localStorage.preferredLanguage` 存在，则优先生效；否则使用后端默认。
     3. 调用 i18n 服务切换语言并在 UI 中立即生效。

4. **兼容现有国际化实现**
   - 不能破坏当前的中英文切换逻辑；现有切换按钮、文案替换等需保持原状。

### 建议的增强功能

1. **设置面板**：为语言切换添加独立的“设置”或“偏好”面板，集中管理主题、语言等用户首选项。
2. **多语言扩展**：抽象语言列表，预留新增语言（如日语、西班牙语）的能力。
3. **后端用户配置存储**：在会话或数据库层面（`session/manager.ts`）存储用户偏好，实现跨设备同步。
4. **SSR 默认语言**：在首屏 HTML 渲染时注入默认语言，减少闪烁。
5. **单元测试**：为语言持久化逻辑编写 Jest/Vitest 测试，确保读取与回退行为正确。
